--- Bunker Self-Hosted Lexer & Parser v0.3 ---
Reading file: src/std/bunker/std/strings.bnk
File read, length: 7387
Initializing Lexer...
Lexer initialized.
Collecting tokens...
Tokens collected
DEBUG: Parser initialized with 392 tokens
DEBUG: parseIncludeFile path=bunker.std.collections resolved=bunker/std/collections.bnk
DEBUG: Parser initialized with 602 tokens
DEBUG: parseCall ':' nt.type=IDENT value=Map
DEBUG: parseCall ':' tk2.type=SYMBOL value=<
DEBUG: parseCall ':' nt.type=IDENT value=alloc
DEBUG: parseCall ':' tk2.type=SYMBOL value=;
DEBUG: created LiteralExpr NUM val=16
DEBUG: created LiteralExpr NUM val=0
DEBUG: parseCall ':' nt.type=IDENT value=create
DEBUG: parseCall ':' tk2.type=SYMBOL value=:
DEBUG: created LiteralExpr NUM val=16
DEBUG: parseCall ':' nt.type=IDENT value=create
DEBUG: parseCall ':' tk2.type=SYMBOL value=:
DEBUG: created LiteralExpr NUM val=16
DEBUG: Creating method create
DEBUG: parseCall ':' nt.type=IDENT value=int
DEBUG: parseCall ':' tk2.type=OPERATOR value=<-
DEBUG: created LiteralExpr NUM val=0
DEBUG: parseCall ':' nt.type=KEYWORD value=unabstracted
DEBUG: parseCall ':' tk2.type=SYMBOL value=:
Error at line 24, col 46: Unexpected token ';'
                  asm c: "bool match = false;";
                                               ^
Error at line 25, col 71: Unexpected token ';'
                  asm c: "if (_Generic((key), char*: 1, default: 0)) {";
                                                                        ^
Error at line 26, col 89: Unexpected token ';'
                  asm c: "  match = strcmp((char*)key, (char*)self->keys->data[i]) == 0;";
                                                                                          ^
Error at line 27, col 35: Unexpected token ';'
                  asm c: "} else {";
                                    ^
Error at line 28, col 67: Unexpected token ';'
                  asm c: "  match = key == (K)self->keys->data[i];";
                                                                    ^
Error at line 29, col 28: Unexpected token ';'
                  asm c: "}";
                             ^
Error at line 30, col 87: Unexpected token ';'
                  asm c: "if (match) { self->values->data[i] = (void*)value; return; }";
                                                                                        ^
DEBUG: created LiteralExpr NUM val=1
Error at line 40, col 24: Unexpected token '['
               self.keys[self.count] <- key;
                         ^
Error at line 40, col 35: Unexpected token ']'
               self.keys[self.count] <- key;
                                    ^
Error at line 40, col 37: Unexpected token '<-'
               self.keys[self.count] <- key;
                                      ^
Error at line 41, col 26: Unexpected token '['
               self.values[self.count] <- value;
                           ^
Error at line 41, col 37: Unexpected token ']'
               self.values[self.count] <- value;
                                      ^
Error at line 41, col 39: Unexpected token '<-'
               self.values[self.count] <- value;
                                        ^
DEBUG: created LiteralExpr NUM val=1
DEBUG: Creating method set
DEBUG: parseCall ':' nt.type=IDENT value=int
DEBUG: parseCall ':' tk2.type=OPERATOR value=<-
DEBUG: created LiteralExpr NUM val=0
DEBUG: parseCall ':' nt.type=KEYWORD value=unabstracted
DEBUG: parseCall ':' tk2.type=SYMBOL value=:
Error at line 51, col 46: Unexpected token ';'
                  asm c: "bool match = false;";
                                               ^
Error at line 52, col 71: Unexpected token ';'
                  asm c: "if (_Generic((key), char*: 1, default: 0)) {";
                                                                        ^
Error at line 53, col 89: Unexpected token ';'
                  asm c: "  match = strcmp((char*)key, (char*)self->keys->data[i]) == 0;";
                                                                                          ^
Error at line 54, col 35: Unexpected token ';'
                  asm c: "} else {";
                                    ^
Error at line 55, col 67: Unexpected token ';'
                  asm c: "  match = key == (K)self->keys->data[i];";
                                                                    ^
Error at line 56, col 28: Unexpected token ';'
                  asm c: "}";
                             ^
Error at line 57, col 70: Unexpected token ';'
                  asm c: "if (match) return (V)self->values->data[i];";
                                                                       ^
DEBUG: created LiteralExpr NUM val=1
DEBUG: Creating method get
DEBUG: parseCall ':' nt.type=IDENT value=List
DEBUG: parseCall ':' tk2.type=SYMBOL value=<
DEBUG: parseCall ':' nt.type=IDENT value=alloc
DEBUG: parseCall ':' tk2.type=SYMBOL value=;
DEBUG: created LiteralExpr NUM val=0
DEBUG: created LiteralExpr NUM val=8
DEBUG: parseCall ':' nt.type=IDENT value=create
DEBUG: parseCall ':' tk2.type=SYMBOL value=:
DEBUG: created LiteralExpr NUM val=8
DEBUG: Creating method create
Error at line 87, col 19: Unexpected token '['
          self.data[self.count] <- item;
                    ^
Error at line 87, col 30: Unexpected token ']'
          self.data[self.count] <- item;
                               ^
Error at line 87, col 32: Unexpected token '<-'
          self.data[self.count] <- item;
                                 ^
DEBUG: created LiteralExpr NUM val=1
DEBUG: Creating method add
Error at line 94, col 29: Expected type argument.
              return index < 0 or index >= self.count;
                              ^
Error at line 94, col 29: >
              return index < 0 or index >= self.count;
                              ^
DEBUG: created LiteralExpr NUM val=0
Error at line 100, col 26: Unexpected token '['
          return self.data[index];
                           ^
Error at line 100, col 32: Unexpected token ']'
          return self.data[index];
                                 ^
Error at line 100, col 33: Unexpected token ';'
          return self.data[index];
                                  ^
DEBUG: Creating method get
DEBUG: Creating method size
DEBUG: parseCall ':' nt.type=IDENT value=int
DEBUG: parseCall ':' tk2.type=OPERATOR value=<-
DEBUG: created LiteralExpr NUM val=2
DEBUG: parseCall ':' nt.type=IDENT value=Array
DEBUG: parseCall ':' tk2.type=SYMBOL value=<
DEBUG: parseCall ':' nt.type=IDENT value=create
DEBUG: parseCall ':' tk2.type=SYMBOL value=:
DEBUG: parseCall ':' nt.type=IDENT value=int
DEBUG: parseCall ':' tk2.type=OPERATOR value=<-
DEBUG: created LiteralExpr NUM val=0
DEBUG: parseCall ':' nt.type=IDENT value=newData
DEBUG: parseCall ':' tk2.type=SYMBOL value=[
Error at line 112, col 21: Unexpected token '['
              newData[i] <- self.data[i];
                      ^
Error at line 112, col 23: Unexpected token ']'
              newData[i] <- self.data[i];
                        ^
Error at line 112, col 25: Unexpected token '<-'
              newData[i] <- self.data[i];
                          ^
Error at line 112, col 37: Unexpected token '['
              newData[i] <- self.data[i];
                                      ^
Error at line 112, col 39: Unexpected token ']'
              newData[i] <- self.data[i];
                                        ^
Error at line 112, col 40: Unexpected token ';'
              newData[i] <- self.data[i];
                                         ^
DEBUG: created LiteralExpr NUM val=1
DEBUG: Creating method _resize
DEBUG: Creating method concat
DEBUG: Creating method length
DEBUG: Creating method substring
DEBUG: Creating method startsWith
DEBUG: Creating method trim
DEBUG: Creating method toUpper
DEBUG: Creating method toLower
DEBUG: Creating method contains
DEBUG: Creating method indexOf
DEBUG: Creating method replace
DEBUG: Creating method toInt
DEBUG: Creating method toFloat
DEBUG: parseCall ':' nt.type=IDENT value=List
DEBUG: parseCall ':' tk2.type=SYMBOL value=<
DEBUG: parseCall ':' nt.type=IDENT value=create
DEBUG: parseCall ':' tk2.type=SYMBOL value=;
DEBUG: Creating method split
DEBUG: Creating method join
Parsing successful!
AST Structure:
 - Stmt Type: ModuleDecl
 - Stmt Type: ImportDecl
 - Stmt Type: ModuleDecl
 - Stmt Type: EntityDecl
 - Stmt Type: EntityDecl
 - Stmt Type: EntityDecl

Running Type Checker...
Type Checking Program...
Error at line 11, col 14: Variable 'm' expects Map<K,V> but got void
              asm c: "
               ^
Error at line 22, col 16: Undefined variable 'i<self>'
              "
                 ^
Error at line 1, col 24: While condition must be bool, got error
  module bunker.std.strings;
                         ^
Error at line 22, col 25: Undefined variable 'count'
              "
                          ^
Error at line 0, col 1: If condition must be bool, got error
  module bunker.std.strings;
  ^
Error at line 42, col 40: Binary operand mismatch error vs int
                  res[sub_len] = 0;
                                         ^
Error at line 49, col 16: Undefined variable 'i<self>'
      has public static method startsWith: s: string, prefix: string -> bool:
                 ^
Error at line 1, col 24: While condition must be bool, got error
  module bunker.std.strings;
                         ^
Error at line 49, col 25: Undefined variable 'count'
      has public static method startsWith: s: string, prefix: string -> bool:
                          ^
Error at line 71, col 14: Variable 'l' expects List<T> but got void
                  char* res = gc_alloc(len + 1);
               ^
Error at line 0, col 1: If condition must be bool, got error
  module bunker.std.strings;
  ^
Error at line 88, col 35: Binary operand mismatch error vs int
                  for (size_t i = 0; i < len; i++) res[i] = toupper((unsigned char)s[i]);
                                    ^
Error at line 0, col 1: If condition must be bool, got error
  module bunker.std.strings;
  ^
Error at line 108, col 38: Binary operand mismatch error vs int
                  for (size_t i = 0; i < len; i++) res[i] = tolower((unsigned char)s[i]);
                                       ^
Error at line 108, col 14: Variable 'newCap' expects int but got error
                  for (size_t i = 0; i < len; i++) res[i] = tolower((unsigned char)s[i]);
               ^
Error at line 109, col 14: Variable 'newData' expects Array<T> but got void
                  for (size_t i = 0; i < len; i++) res[i] = tolower((unsigned char)s[i]);
               ^
Error at line 111, col 16: Undefined variable 'i<self>'
                  return res;
                 ^
Error at line 1, col 24: While condition must be bool, got error
  module bunker.std.strings;
                         ^
Error at line 171, col 14: Variable 'res' expects List<string> but got void
          let res : List<string> <- List<string> : create;
               ^
Type Checking Complete.
Type checking failed.
